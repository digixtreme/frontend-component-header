{"version":3,"file":"FormControl.js","names":["React","PropTypes","classNames","RBFormControl","useFormGroupContext","FormControlFeedback","FormControlDecoratorGroup","callAllHandlers","useHasValue","FormControl","forwardRef","_ref","ref","as","className","controlClassName","leadingElement","trailingElement","floatingLabel","autoResize","onChange","props","_objectWithoutProperties","_excluded","_useFormGroupContext","isInvalid","isValid","getControlProps","formGroupContext","_excluded2","inputRef","useRef","resolvedRef","size","hasValue","checkInputEventValue","defaultValue","value","controlProps","_objectSpread","onBlur","handleOnChange","e","current","initialHeight","offsets","offsetHeight","clientHeight","style","height","scrollHeight","createElement","_extends","SIZE_CHOICES","Feedback","Description","propTypes","string","elementType","func","oneOfType","number","id","oneOf","node","plaintext","bool","defaultProps","undefined"],"sources":["../../src/Form/FormControl.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport RBFormControl from 'react-bootstrap/FormControl';\nimport { useFormGroupContext } from './FormGroupContext';\nimport FormControlFeedback from './FormControlFeedback';\nimport FormControlDecoratorGroup from './FormControlDecoratorGroup';\n\nimport { callAllHandlers, useHasValue } from './fieldUtils';\n\nconst FormControl = React.forwardRef(({\n  as,\n  className,\n  controlClassName,\n  leadingElement,\n  trailingElement,\n  floatingLabel,\n  autoResize,\n  onChange,\n  ...props\n}, ref) => {\n  const {\n    isInvalid,\n    isValid,\n    getControlProps,\n    ...formGroupContext\n  } = useFormGroupContext();\n  const inputRef = React.useRef();\n  const resolvedRef = ref || inputRef;\n  const size = props.size || formGroupContext.size;\n\n  const [hasValue, checkInputEventValue] = useHasValue({\n    defaultValue: props.defaultValue,\n    value: props.value,\n  });\n\n  const controlProps = getControlProps({\n    ...props,\n    // eslint-disable-next-line react/prop-types\n    onBlur: callAllHandlers(checkInputEventValue, props.onBlur),\n  });\n\n  const handleOnChange = (e) => {\n    if (as === 'textarea' && autoResize) {\n      if (!resolvedRef.current.initialHeight && !resolvedRef.current.offsets) {\n        resolvedRef.current.initialHeight = resolvedRef.current.offsetHeight;\n        resolvedRef.current.offsets = resolvedRef.current.offsetHeight - resolvedRef.current.clientHeight;\n      }\n      resolvedRef.current.style.height = `${resolvedRef.current.initialHeight}px`;\n      resolvedRef.current.style.height = `${resolvedRef.current.scrollHeight + resolvedRef.current.offsets}px`;\n    }\n    if (onChange) {\n      onChange(e);\n    }\n  };\n\n  return (\n    <FormControlDecoratorGroup\n      size={size}\n      leadingElement={leadingElement}\n      trailingElement={trailingElement}\n      floatingLabel={floatingLabel}\n      className={className}\n    >\n      <RBFormControl\n        as={as}\n        ref={resolvedRef}\n        size={size}\n        isInvalid={isInvalid}\n        isValid={isValid}\n        className={classNames(controlClassName, {\n          'has-value': hasValue,\n        })}\n        onChange={handleOnChange}\n        {...controlProps}\n      />\n    </FormControlDecoratorGroup>\n  );\n});\n\nconst SIZE_CHOICES = ['sm', 'lg'];\n\nFormControl.Feedback = FormControlFeedback;\nFormControl.Description = FormControlFeedback;\n\nFormControl.propTypes = {\n  /** Specifies class name to append to the base element. */\n  className: PropTypes.string,\n  /** Specifies base element for the control component. */\n  as: PropTypes.elementType,\n  /** Specifies function that is triggered on input value change. */\n  onChange: PropTypes.func,\n  /** Specifies default value of the input component. */\n  defaultValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  /** Specifies current value of the input component. */\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  /** Specifies id of the control component. */\n  id: PropTypes.string,\n  /** Specifies class name for the control component. */\n  controlClassName: PropTypes.string,\n  /** Specifies size for the control component. */\n  size: PropTypes.oneOf(SIZE_CHOICES),\n  /** Specifies leading element to display for the input component. */\n  leadingElement: PropTypes.node,\n  /** Specifies trailing element to display for the input component. */\n  trailingElement: PropTypes.node,\n  /** Specifies floating label to display for the input component. */\n  floatingLabel: PropTypes.node,\n  /** Specifies whether to render input as plain text. */\n  plaintext: PropTypes.bool,\n  /** Specifies whether to display control in valid state, this affects styling. */\n  isValid: PropTypes.bool,\n  /** Specifies whether to display control in invalid state, this affects styling. */\n  isInvalid: PropTypes.bool,\n  /** Only for `as=\"textarea\"`. Specifies whether the input can be resized according to the height of content. */\n  autoResize: PropTypes.bool,\n};\n\nFormControl.defaultProps = {\n  as: 'input',\n  className: undefined,\n  id: undefined,\n  controlClassName: undefined,\n  onChange: undefined,\n  defaultValue: undefined,\n  value: undefined,\n  size: undefined,\n  leadingElement: undefined,\n  trailingElement: undefined,\n  floatingLabel: undefined,\n  plaintext: false,\n  isValid: undefined,\n  isInvalid: undefined,\n  autoResize: false,\n};\n\nexport default FormControl;\n"],"mappings":"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"}