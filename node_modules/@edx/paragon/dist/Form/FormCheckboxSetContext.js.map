{"version":3,"file":"FormCheckboxSetContext.js","names":["React","useContext","PropTypes","callAllHandlers","identityFn","props","FormCheckboxSetContext","createContext","getCheckboxControlProps","hasCheckboxSetProvider","useCheckboxSetContext","FormCheckboxSetContextProvider","_ref","children","name","onBlur","onFocus","onChange","value","defaultValue","isControlled","Array","isArray","checkboxProps","_objectSpread","checked","includes","undefined","defaultChecked","contextValue","createElement","Provider","propTypes","node","isRequired","string","func","arrayOf","defaultProps"],"sources":["../../src/Form/FormCheckboxSetContext.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { callAllHandlers } from './fieldUtils';\n\nconst identityFn = props => props;\n\nconst FormCheckboxSetContext = React.createContext({\n  getCheckboxControlProps: identityFn,\n  hasCheckboxSetProvider: false,\n});\n\nconst useCheckboxSetContext = () => useContext(FormCheckboxSetContext);\n\nfunction FormCheckboxSetContextProvider({\n  children,\n  name,\n  onBlur,\n  onFocus,\n  onChange,\n  value,\n  defaultValue,\n}) {\n  const isControlled = !defaultValue && Array.isArray(value);\n  const getCheckboxControlProps = (checkboxProps) => ({\n    ...checkboxProps,\n    name,\n    /* istanbul ignore next */\n    onBlur: checkboxProps.onBlur ? callAllHandlers(onBlur, checkboxProps.onBlur) : onBlur,\n    /* istanbul ignore next */\n    onFocus: checkboxProps.onFocus ? callAllHandlers(onFocus, checkboxProps.onFocus) : onFocus,\n    /* istanbul ignore next */\n    onChange: checkboxProps.onChange ? callAllHandlers(onChange, checkboxProps.onChange) : onChange,\n    checked: isControlled ? value.includes(checkboxProps.value) : undefined,\n    defaultChecked: isControlled ? undefined : (defaultValue && defaultValue.includes(checkboxProps.value)),\n  });\n  const contextValue = {\n    name,\n    value,\n    defaultValue,\n    getCheckboxControlProps,\n    onBlur,\n    onFocus,\n    onChange,\n    hasCheckboxSetProvider: true,\n  };\n  return (\n    <FormCheckboxSetContext.Provider value={contextValue}>\n      {children}\n    </FormCheckboxSetContext.Provider>\n  );\n}\n\nFormCheckboxSetContextProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  name: PropTypes.string,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func,\n  onChange: PropTypes.func,\n  value: PropTypes.arrayOf(PropTypes.string),\n  defaultValue: PropTypes.arrayOf(PropTypes.string),\n};\n\nFormCheckboxSetContextProvider.defaultProps = {\n  onBlur: undefined,\n  name: undefined,\n  onFocus: undefined,\n  onChange: undefined,\n  value: undefined,\n  defaultValue: undefined,\n};\n\nexport default FormCheckboxSetContext;\nexport {\n  useCheckboxSetContext,\n  FormCheckboxSetContextProvider,\n};\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,eAAe,QAAQ,cAAc;AAE9C,MAAMC,UAAU,GAAGC,KAAK,IAAIA,KAAK;AAEjC,MAAMC,sBAAsB,gBAAGN,KAAK,CAACO,aAAa,CAAC;EACjDC,uBAAuB,EAAEJ,UAAU;EACnCK,sBAAsB,EAAE;AAC1B,CAAC,CAAC;AAEF,MAAMC,qBAAqB,GAAGA,CAAA,KAAMT,UAAU,CAACK,sBAAsB,CAAC;AAEtE,SAASK,8BAA8BA,CAAAC,IAAA,EAQpC;EAAA,IARqC;IACtCC,QAAQ;IACRC,IAAI;IACJC,MAAM;IACNC,OAAO;IACPC,QAAQ;IACRC,KAAK;IACLC;EACF,CAAC,GAAAP,IAAA;EACC,MAAMQ,YAAY,GAAG,CAACD,YAAY,IAAIE,KAAK,CAACC,OAAO,CAACJ,KAAK,CAAC;EAC1D,MAAMV,uBAAuB,GAAIe,aAAa,IAAAC,aAAA,CAAAA,aAAA,KACzCD,aAAa;IAChBT,IAAI;IACJ;IACAC,MAAM,EAAEQ,aAAa,CAACR,MAAM,GAAGZ,eAAe,CAACY,MAAM,EAAEQ,aAAa,CAACR,MAAM,CAAC,GAAGA,MAAM;IACrF;IACAC,OAAO,EAAEO,aAAa,CAACP,OAAO,GAAGb,eAAe,CAACa,OAAO,EAAEO,aAAa,CAACP,OAAO,CAAC,GAAGA,OAAO;IAC1F;IACAC,QAAQ,EAAEM,aAAa,CAACN,QAAQ,GAAGd,eAAe,CAACc,QAAQ,EAAEM,aAAa,CAACN,QAAQ,CAAC,GAAGA,QAAQ;IAC/FQ,OAAO,EAAEL,YAAY,GAAGF,KAAK,CAACQ,QAAQ,CAACH,aAAa,CAACL,KAAK,CAAC,GAAGS,SAAS;IACvEC,cAAc,EAAER,YAAY,GAAGO,SAAS,GAAIR,YAAY,IAAIA,YAAY,CAACO,QAAQ,CAACH,aAAa,CAACL,KAAK;EAAE,EACvG;EACF,MAAMW,YAAY,GAAG;IACnBf,IAAI;IACJI,KAAK;IACLC,YAAY;IACZX,uBAAuB;IACvBO,MAAM;IACNC,OAAO;IACPC,QAAQ;IACRR,sBAAsB,EAAE;EAC1B,CAAC;EACD,oBACET,KAAA,CAAA8B,aAAA,CAACxB,sBAAsB,CAACyB,QAAQ;IAACb,KAAK,EAAEW;EAAa,GAClDhB,QAAQ,CACuB;AAEtC;AAEAF,8BAA8B,CAACqB,SAAS,GAAG;EACzCnB,QAAQ,EAAEX,SAAS,CAAC+B,IAAI,CAACC,UAAU;EACnCpB,IAAI,EAAEZ,SAAS,CAACiC,MAAM;EACtBpB,MAAM,EAAEb,SAAS,CAACkC,IAAI;EACtBpB,OAAO,EAAEd,SAAS,CAACkC,IAAI;EACvBnB,QAAQ,EAAEf,SAAS,CAACkC,IAAI;EACxBlB,KAAK,EAAEhB,SAAS,CAACmC,OAAO,CAACnC,SAAS,CAACiC,MAAM,CAAC;EAC1ChB,YAAY,EAAEjB,SAAS,CAACmC,OAAO,CAACnC,SAAS,CAACiC,MAAM;AAClD,CAAC;AAEDxB,8BAA8B,CAAC2B,YAAY,GAAG;EAC5CvB,MAAM,EAAEY,SAAS;EACjBb,IAAI,EAAEa,SAAS;EACfX,OAAO,EAAEW,SAAS;EAClBV,QAAQ,EAAEU,SAAS;EACnBT,KAAK,EAAES,SAAS;EAChBR,YAAY,EAAEQ;AAChB,CAAC;AAED,eAAerB,sBAAsB;AACrC,SACEI,qBAAqB,EACrBC,8BAA8B"}