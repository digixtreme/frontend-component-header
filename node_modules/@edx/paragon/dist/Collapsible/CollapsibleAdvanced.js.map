{"version":3,"file":"CollapsibleAdvanced.js","names":["React","classNames","PropTypes","CollapsibleContext","createContext","CollapsibleAdvanced","Component","getDerivedStateFromProps","props","open","undefined","isOpen","constructor","_defineProperty","setState","onOpen","onToggle","onClose","state","close","defaultOpen","render","_this$props","children","className","unmountOnExit","_objectWithoutProperties","_excluded","createElement","_extends","Provider","value","toggle","propTypes","node","string","bool","func","defaultProps"],"sources":["../../src/Collapsible/CollapsibleAdvanced.jsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nexport const CollapsibleContext = React.createContext();\n\nclass CollapsibleAdvanced extends React.Component {\n  static getDerivedStateFromProps(props) {\n    if (props.open !== undefined) {\n      return {\n        // Since this method fires on both props and state changes, local updates\n        // to the controlled value will be ignored, because the props version\n        // always overrides it. In this case, this is exactly what we want.\n        isOpen: props.open,\n      };\n    }\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpen: props.open !== undefined ? props.open : props.defaultOpen,\n    };\n  }\n\n  open = () => {\n    this.setState({ isOpen: true });\n\n    if (this.props.onOpen) {\n      this.props.onOpen();\n    }\n    if (this.props.onToggle) {\n      this.props.onToggle(true);\n    }\n  };\n\n  close = () => {\n    this.setState({ isOpen: false });\n\n    if (this.props.onClose) {\n      this.props.onClose();\n    }\n    if (this.props.onToggle) {\n      this.props.onToggle(false);\n    }\n  };\n\n  toggle = () => {\n    if (this.state.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  };\n\n  render() {\n    const {\n      children,\n      className,\n      unmountOnExit,\n      ...props\n    } = this.props;\n\n    // Unneeded for passthrough props\n    delete props.defaultOpen;\n    delete props.onToggle;\n    delete props.onOpen;\n    delete props.onClose;\n\n    return (\n      <div\n        {...props}\n        className={classNames('pgn_collapsible', className, {\n          'is-open': this.state.isOpen,\n        })}\n      >\n        <CollapsibleContext.Provider\n          value={{\n            isOpen: this.state.isOpen,\n            open: this.open,\n            close: this.close,\n            toggle: this.toggle,\n            unmountOnExit,\n          }}\n        >\n          {children}\n        </CollapsibleContext.Provider>\n      </div>\n    );\n  }\n}\n\nCollapsibleAdvanced.propTypes = {\n  /** Specifies contents of the component. */\n  children: PropTypes.node,\n  /** Specifies classname to append to the base element. */\n  className: PropTypes.string,\n  /** Specifies whether `Collapsible` should be initially open. */\n  defaultOpen: PropTypes.bool,\n  /** Specifies whether `Collapsible` is open. */\n  open: PropTypes.bool,\n  /** Callback fired when `Collapsible's` state is toggled. */\n  onToggle: PropTypes.func,\n  /** Callback fired when `Collapsible` opens. */\n  onOpen: PropTypes.func,\n  /** Callback fired when `Collapsible` closes. */\n  onClose: PropTypes.func,\n  /** Unmount the component (remove it from the DOM) when it is collapsed. */\n  unmountOnExit: PropTypes.bool,\n};\n\nCollapsibleAdvanced.defaultProps = {\n  children: undefined,\n  className: undefined,\n  defaultOpen: false,\n  open: undefined,\n  onToggle: undefined,\n  onOpen: undefined,\n  onClose: undefined,\n  unmountOnExit: true,\n};\n\nexport default CollapsibleAdvanced;\n"],"mappings":"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"}