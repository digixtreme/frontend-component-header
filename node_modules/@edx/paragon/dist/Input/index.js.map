{"version":3,"file":"index.js","names":["React","classNames","PropTypes","Input","Component","componentDidMount","process","env","NODE_ENV","checkHasLabel","getHTMLTagForType","type","props","getClassNameForType","setRef","forwardedRef","element","current","inputEl","labels","length","getAttribute","console","warn","renderOptions","options","map","option","value","label","group","attributes","_objectWithoutProperties","_excluded","createElement","_extends","key","render","_this$props","className","_excluded2","htmlTag","htmlProps","_objectSpread","undefined","ref","htmlChildren","propTypes","oneOf","isRequired","string","arrayOf","shape","oneOfType","number","disabled","bool","defaultProps","InputWithRefForwarding","forwardRef"],"sources":["../../src/Input/index.jsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nclass Input extends React.Component {\n  componentDidMount() {\n    if (process.env.NODE_ENV === 'development') {\n      this.checkHasLabel();\n    }\n  }\n\n  getHTMLTagForType() {\n    const { type } = this.props;\n    if (type === 'select' || type === 'textarea') { return type; }\n    return 'input';\n  }\n\n  getClassNameForType() {\n    switch (this.props.type) {\n      case 'file':\n        return 'form-control-file';\n      case 'checkbox':\n      case 'radio':\n        return 'form-check-input';\n      default:\n        return 'form-control';\n    }\n  }\n\n  setRef(forwardedRef) {\n    // In production just return the optional forwardedRef\n    if (process.env.NODE_ENV !== 'development') { return forwardedRef; }\n\n    return (element) => {\n      if (forwardedRef) { forwardedRef.current = element; } // eslint-disable-line no-param-reassign\n      this.inputEl = element;\n    };\n  }\n\n  checkHasLabel() {\n    if (this.inputEl.labels.length > 0) { return; }\n    if (this.inputEl.getAttribute('aria-label') !== null) { return; }\n    if (this.inputEl.getAttribute('aria-labelledby') !== null) { return; }\n\n    if (console) {\n      // eslint-disable-next-line no-console\n      console.warn('Input[a11y]: There is no associated label for this Input');\n    }\n  }\n\n  renderOptions(options) {\n    return options.map((option) => {\n      const {\n        value,\n        label,\n        group,\n        ...attributes\n      } = option;\n\n      if (group) {\n        return (\n          <optgroup key={`optgroup-${label}`} label={label} {...attributes}>\n            {this.renderOptions(group)}\n          </optgroup>\n        );\n      }\n      return (\n        <option key={value} value={value} {...attributes}>\n          {label}\n        </option>\n      );\n    }, this);\n  }\n\n  render() {\n    const {\n      type,\n      className,\n      options,\n      forwardedRef, // eslint-disable-line react/prop-types\n      ...attributes // eslint-disable-line react/prop-types\n    } = this.props;\n\n    const htmlTag = this.getHTMLTagForType();\n    const htmlProps = {\n      className: classNames(this.getClassNameForType(), className),\n      type: htmlTag === 'input' ? type : undefined,\n      ...attributes,\n      ref: this.setRef(forwardedRef),\n    };\n    const htmlChildren = type === 'select' ? this.renderOptions(options) : null;\n\n    return React.createElement(htmlTag, htmlProps, htmlChildren);\n  }\n}\n\nInput.propTypes = {\n  /** specifies the type of component.\n   * One of select, textarea, or any valid type for an html input tag. */\n  type: PropTypes.oneOf([\n    'textarea',\n    'select',\n    'checkbox',\n    'color',\n    'date',\n    'datetime',\n    'datetime-local',\n    'email',\n    'file',\n    'hidden',\n    'image',\n    'month',\n    'number',\n    'password',\n    'radio',\n    'range',\n    'reset',\n    'search',\n    'submit',\n    'tel',\n    'text',\n    'time',\n    'url',\n    'week',\n  ]).isRequired,\n  /** specifies the className in addition to a bootstrap class name. */\n  className: PropTypes.string,\n  /** should be used to specify the options of an Input of type select */\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    disabled: PropTypes.bool,\n    group: PropTypes.arrayOf(PropTypes.shape({\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      disabled: PropTypes.bool,\n    })),\n  })),\n};\n\nInput.defaultProps = {\n  className: undefined,\n  options: [],\n};\n\n// eslint-disable-next-line react/no-multi-comp\nconst InputWithRefForwarding = React.forwardRef((props, ref) => (\n  <Input forwardedRef={ref} {...props} />\n));\n\nexport default InputWithRefForwarding;\n"],"mappings":"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"}