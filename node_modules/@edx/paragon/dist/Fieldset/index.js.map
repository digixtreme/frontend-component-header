{"version":3,"file":"index.js","names":["React","PropTypes","classNames","newId","ValidationMessage","Variant","inputProps","legend","oneOfType","string","element","isRequired","children","node","className","id","isValid","bool","invalidMessage","variant","shape","status","oneOf","Object","keys","map","k","variantIconDescription","defaultProps","undefined","INFO","Fieldset","Component","constructor","props","state","getDerivedStateFromProps","nextProps","prevState","getVariantClassName","render","errorId","createElement","propTypes"],"sources":["../../src/Fieldset/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport newId from '../utils/newId';\n\nimport ValidationMessage from '../ValidationMessage/index';\nimport Variant from '../utils/constants';\n\nconst inputProps = {\n  legend: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n\n  children: PropTypes.node,\n  className: PropTypes.string,\n  id: PropTypes.string,\n  isValid: PropTypes.bool,\n  invalidMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  variant: PropTypes.shape({\n    status: PropTypes.oneOf(Object.keys(Variant.status).map(k => Variant.status[k])),\n  }),\n  variantIconDescription: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nconst defaultProps = {\n  children: null,\n  className: undefined,\n  id: '',\n  isValid: true,\n  invalidMessage: '',\n  variant: {\n    status: Variant.status.INFO,\n  },\n  variantIconDescription: '',\n};\n\nclass Fieldset extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { id: props.id || newId('fieldset') };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.id !== prevState.id) {\n      return { id: nextProps.id || newId('fieldset') };\n    }\n\n    return null;\n  }\n\n  getVariantClassName() {\n    const { variant } = this.props;\n    let className;\n\n    switch (variant.status) {\n      case Variant.status.INFO:\n        className = 'is-invalid-nodanger';\n        break;\n      default:\n        break;\n    }\n\n    return className;\n  }\n\n  render() {\n    const {\n      className,\n      children,\n      variantIconDescription,\n      invalidMessage,\n      isValid,\n      legend,\n      variant,\n    } = this.props;\n    const errorId = `error-${this.state.id}`;\n    return (\n      <div className=\"paragon-fieldset\">\n        <fieldset\n          className={classNames(\n            'form-control',\n            'p-3',\n            { 'is-invalid': !isValid },\n            this.getVariantClassName(),\n            className,\n          )}\n          aria-describedby={errorId}\n        >\n          <legend className=\"p-1\">{legend}</legend>\n          {children}\n        </fieldset>\n        <ValidationMessage\n          id={errorId}\n          isValid={isValid}\n          invalidMessage={invalidMessage}\n          variant={variant}\n          variantIconDescription={variantIconDescription}\n        />\n      </div>\n    );\n  }\n}\n\nFieldset.propTypes = inputProps;\nFieldset.defaultProps = defaultProps;\n\nexport default Fieldset;\n"],"mappings":"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"}