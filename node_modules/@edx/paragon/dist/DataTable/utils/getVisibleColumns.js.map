{"version":3,"file":"getVisibleColumns.js","names":["React","useMemo","CheckboxControl","useConvertIndeterminateProp","selectColumn","id","Header","_ref","getToggleAllPageRowsSelectedProps","getToggleAllRowsSelectedProps","page","toggleRowsSelectedProps","getToggleRowsSelectedProps","updatedProps","createElement","className","_extends","Cell","_ref2","row","getToggleRowSelectedProps","disableSortBy","getVisibleColumns","isSelectable","visibleColumns","additionalColumns","arguments","length","undefined","manualSelectColumn","columns","push","concat"],"sources":["../../../src/DataTable/utils/getVisibleColumns.jsx"],"sourcesContent":["import React, { useMemo } from 'react';\n\nimport { CheckboxControl } from '../../Form';\nimport useConvertIndeterminateProp from './useConvertIndeterminateProp';\n\nexport const selectColumn = {\n  id: 'selection',\n  // The header can use the table's getToggleAllPageRowsSelectedProps or getToggleAllRowsSelectedProps\n  // method to render a checkbox. The method is determined based on whether pagination is enabled or\n  // not (i.e., ``page`` is defined).\n  // Proptypes disabled as these props are passed in separately\n  /* eslint-disable-next-line react/prop-types */\n  Header: ({ getToggleAllPageRowsSelectedProps, getToggleAllRowsSelectedProps, page }) => {\n    const toggleRowsSelectedProps = useMemo(\n      () => {\n        // determine if this selection is for an individual page or the entire table\n        const getToggleRowsSelectedProps = page ? getToggleAllPageRowsSelectedProps : getToggleAllRowsSelectedProps;\n        return getToggleRowsSelectedProps();\n      },\n      [getToggleAllPageRowsSelectedProps, getToggleAllRowsSelectedProps, page],\n    );\n    const updatedProps = useConvertIndeterminateProp(toggleRowsSelectedProps);\n\n    return (\n      <div className=\"pgn__data-table__controlled-select\">\n        <CheckboxControl\n          {...updatedProps}\n          data-testid=\"datatable-select-column-checkbox-header\"\n        />\n      </div>\n    );\n  },\n  // The cell can use the individual row's getToggleRowSelectedProps method\n  // to the render a checkbox\n  // Proptypes disabled as this prop is passed in separately\n  /* eslint-disable react/prop-types */\n  Cell: ({ row }) => {\n    const updatedProps = useConvertIndeterminateProp(row.getToggleRowSelectedProps());\n\n    return (\n      <div className=\"pgn__data-table__controlled-select\">\n        <CheckboxControl\n          {...updatedProps}\n          data-testid=\"datatable-select-column-checkbox-cell\"\n        />\n      </div>\n    );\n  },\n  /* eslint-enable react/prop-types */\n  disableSortBy: true,\n};\n\nconst getVisibleColumns = (\n  isSelectable,\n  visibleColumns,\n  additionalColumns = [],\n  manualSelectColumn = selectColumn,\n) => {\n  let columns = [];\n  if (isSelectable) {\n    columns.push(manualSelectColumn);\n  }\n  columns = columns.concat(visibleColumns);\n  if (additionalColumns.length > 0) {\n    columns = columns.concat(additionalColumns);\n  }\n  return columns;\n};\n\nexport default getVisibleColumns;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,OAAO,QAAQ,OAAO;AAEtC,SAASC,eAAe,QAAQ,YAAY;AAC5C,OAAOC,2BAA2B,MAAM,+BAA+B;AAEvE,OAAO,MAAMC,YAAY,GAAG;EAC1BC,EAAE,EAAE,WAAW;EACf;EACA;EACA;EACA;EACA;EACAC,MAAM,EAAEC,IAAA,IAAgF;IAAA,IAA/E;MAAEC,iCAAiC;MAAEC,6BAA6B;MAAEC;IAAK,CAAC,GAAAH,IAAA;IACjF,MAAMI,uBAAuB,GAAGV,OAAO,CACrC,MAAM;MACJ;MACA,MAAMW,0BAA0B,GAAGF,IAAI,GAAGF,iCAAiC,GAAGC,6BAA6B;MAC3G,OAAOG,0BAA0B,EAAE;IACrC,CAAC,EACD,CAACJ,iCAAiC,EAAEC,6BAA6B,EAAEC,IAAI,CAAC,CACzE;IACD,MAAMG,YAAY,GAAGV,2BAA2B,CAACQ,uBAAuB,CAAC;IAEzE,oBACEX,KAAA,CAAAc,aAAA;MAAKC,SAAS,EAAC;IAAoC,gBACjDf,KAAA,CAAAc,aAAA,CAACZ,eAAe,EAAAc,QAAA,KACVH,YAAY;MAChB,eAAY;IAAyC,GACrD,CACE;EAEV,CAAC;EACD;EACA;EACA;EACA;EACAI,IAAI,EAAEC,KAAA,IAAa;IAAA,IAAZ;MAAEC;IAAI,CAAC,GAAAD,KAAA;IACZ,MAAML,YAAY,GAAGV,2BAA2B,CAACgB,GAAG,CAACC,yBAAyB,EAAE,CAAC;IAEjF,oBACEpB,KAAA,CAAAc,aAAA;MAAKC,SAAS,EAAC;IAAoC,gBACjDf,KAAA,CAAAc,aAAA,CAACZ,eAAe,EAAAc,QAAA,KACVH,YAAY;MAChB,eAAY;IAAuC,GACnD,CACE;EAEV,CAAC;EACD;EACAQ,aAAa,EAAE;AACjB,CAAC;AAED,MAAMC,iBAAiB,GAAG,SAAAA,CACxBC,YAAY,EACZC,cAAc,EAGX;EAAA,IAFHC,iBAAiB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IACtBG,kBAAkB,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGtB,YAAY;EAEjC,IAAI0B,OAAO,GAAG,EAAE;EAChB,IAAIP,YAAY,EAAE;IAChBO,OAAO,CAACC,IAAI,CAACF,kBAAkB,CAAC;EAClC;EACAC,OAAO,GAAGA,OAAO,CAACE,MAAM,CAACR,cAAc,CAAC;EACxC,IAAIC,iBAAiB,CAACE,MAAM,GAAG,CAAC,EAAE;IAChCG,OAAO,GAAGA,OAAO,CAACE,MAAM,CAACP,iBAAiB,CAAC;EAC7C;EACA,OAAOK,OAAO;AAChB,CAAC;AAED,eAAeR,iBAAiB"}