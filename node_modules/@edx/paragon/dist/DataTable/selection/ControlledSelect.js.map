{"version":3,"file":"ControlledSelect.js","names":["React","useContext","useCallback","PropTypes","CheckboxControl","DataTableContext","useConvertIndeterminateProp","deleteSelectedRowAction","addSelectedRowAction","ControlledSelect","_ref","row","itemCount","controlledTableSelections","dispatch","toggleSelected","isSelected","id","updatedProps","getToggleRowSelectedProps","createElement","className","_extends","onChange","propTypes","shape","oneOfType","string","number","isRequired","func","bool"],"sources":["../../../src/DataTable/selection/ControlledSelect.jsx"],"sourcesContent":["import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { CheckboxControl } from '../../Form';\nimport DataTableContext from '../DataTableContext';\nimport useConvertIndeterminateProp from '../utils/useConvertIndeterminateProp';\n\nimport {\n  deleteSelectedRowAction,\n  addSelectedRowAction,\n} from './data/actions';\n\nfunction ControlledSelect({ row }) {\n  const {\n    itemCount,\n    controlledTableSelections: [, dispatch],\n  } = useContext(DataTableContext);\n\n  const toggleSelected = useCallback(\n    () => {\n      if (row.isSelected) {\n        dispatch(deleteSelectedRowAction(row.id));\n      } else {\n        dispatch(addSelectedRowAction(row, itemCount));\n      }\n    },\n    [itemCount, row, dispatch],\n  );\n\n  const updatedProps = useConvertIndeterminateProp(row.getToggleRowSelectedProps());\n\n  return (\n    <div className=\"pgn__data-table__controlled-select\">\n      <CheckboxControl\n        {...updatedProps}\n        onChange={toggleSelected}\n      />\n    </div>\n  );\n}\n\nControlledSelect.propTypes = {\n  row: PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    getToggleRowSelectedProps: PropTypes.func.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n\nexport default ControlledSelect;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,WAAW,QAAQ,OAAO;AACtD,OAAOC,SAAS,MAAM,YAAY;AAElC,SAASC,eAAe,QAAQ,YAAY;AAC5C,OAAOC,gBAAgB,MAAM,qBAAqB;AAClD,OAAOC,2BAA2B,MAAM,sCAAsC;AAE9E,SACEC,uBAAuB,EACvBC,oBAAoB,QACf,gBAAgB;AAEvB,SAASC,gBAAgBA,CAAAC,IAAA,EAAU;EAAA,IAAT;IAAEC;EAAI,CAAC,GAAAD,IAAA;EAC/B,MAAM;IACJE,SAAS;IACTC,yBAAyB,EAAE,GAAGC,QAAQ;EACxC,CAAC,GAAGb,UAAU,CAACI,gBAAgB,CAAC;EAEhC,MAAMU,cAAc,GAAGb,WAAW,CAChC,MAAM;IACJ,IAAIS,GAAG,CAACK,UAAU,EAAE;MAClBF,QAAQ,CAACP,uBAAuB,CAACI,GAAG,CAACM,EAAE,CAAC,CAAC;IAC3C,CAAC,MAAM;MACLH,QAAQ,CAACN,oBAAoB,CAACG,GAAG,EAAEC,SAAS,CAAC,CAAC;IAChD;EACF,CAAC,EACD,CAACA,SAAS,EAAED,GAAG,EAAEG,QAAQ,CAAC,CAC3B;EAED,MAAMI,YAAY,GAAGZ,2BAA2B,CAACK,GAAG,CAACQ,yBAAyB,EAAE,CAAC;EAEjF,oBACEnB,KAAA,CAAAoB,aAAA;IAAKC,SAAS,EAAC;EAAoC,gBACjDrB,KAAA,CAAAoB,aAAA,CAAChB,eAAe,EAAAkB,QAAA,KACVJ,YAAY;IAChBK,QAAQ,EAAER;EAAe,GACzB,CACE;AAEV;AAEAN,gBAAgB,CAACe,SAAS,GAAG;EAC3Bb,GAAG,EAAER,SAAS,CAACsB,KAAK,CAAC;IACnBR,EAAE,EAAEd,SAAS,CAACuB,SAAS,CAAC,CAACvB,SAAS,CAACwB,MAAM,EAAExB,SAAS,CAACyB,MAAM,CAAC,CAAC,CAACC,UAAU;IACxEV,yBAAyB,EAAEhB,SAAS,CAAC2B,IAAI,CAACD,UAAU;IACpDb,UAAU,EAAEb,SAAS,CAAC4B,IAAI,CAACF;EAC7B,CAAC,CAAC,CAACA;AACL,CAAC;AAED,eAAepB,gBAAgB"}