{"version":3,"file":"index.js","names":["React","classNames","PropTypes","BaseDropdown","DropdownMenu","BaseDropdownItem","BaseDropdownToggle","DropdownDeprecated","Button","IconButton","Dropdown","forwardRef","_ref","ref","show","autoClose","onToggle","variant","className","rest","_objectWithoutProperties","_excluded","internalShow","setInternalShow","useState","isClosingPermitted","source","handleToggle","isOpen","event","metadata","_objectSpread","currentTarget","document","key","createElement","_extends","propTypes","oneOfType","string","bool","func","oneOf","defaultProps","undefined","DropdownToggle","_ref2","as","bsPrefix","otherProps","_excluded2","prefix","elementType","id","number","isRequired","Item","DropdownItem","_ref3","_excluded3","Deprecated","Toggle","Menu","Header","Divider","default","DropdownButton","SplitButton"],"sources":["../../src/Dropdown/index.jsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport BaseDropdown from 'react-bootstrap/Dropdown';\nimport DropdownMenu from 'react-bootstrap/DropdownMenu';\nimport BaseDropdownItem from 'react-bootstrap/DropdownItem';\nimport BaseDropdownToggle from 'react-bootstrap/DropdownToggle';\nimport DropdownDeprecated from './deprecated';\nimport Button from '../Button';\nimport IconButton from '../IconButton';\n\nconst Dropdown = React.forwardRef(\n  // eslint-disable-next-line prefer-arrow-callback\n  function Dropdown({\n    show,\n    autoClose,\n    onToggle,\n    variant,\n    className,\n    ...rest\n  }, ref) {\n    const [internalShow, setInternalShow] = React.useState(show);\n    const isClosingPermitted = (source) => {\n      // autoClose=false only permits close on button click\n      if (autoClose === false) {\n        return source === 'click';\n      }\n      // autoClose=inside doesn't permit close on rootClose\n      if (autoClose === 'inside') {\n        return source !== 'rootClose';\n      }\n      // autoClose=outside doesn't permit close on select\n      if (autoClose === 'outside') {\n        return source !== 'select';\n      }\n      return true;\n    };\n\n    const handleToggle = (isOpen, event, metadata) => {\n      if (isOpen) {\n        setInternalShow(true);\n        onToggle?.(isOpen, event, metadata);\n        return;\n      }\n      let { source } = { ...metadata };\n\n      if (event.currentTarget === document && (source !== 'keydown' || event.key === 'Escape')) {\n        source = 'rootClose';\n      }\n      if (isClosingPermitted(source)) {\n        setInternalShow(false);\n        onToggle?.(isOpen, event, metadata);\n      }\n    };\n\n    return (\n      <BaseDropdown\n        className={classNames(\n          'pgn__dropdown',\n          `pgn__dropdown-${variant}`,\n          className,\n        )}\n        data-testid=\"dropdown\"\n        onToggle={handleToggle}\n        ref={ref}\n        show={internalShow}\n        {...rest}\n      />\n    );\n  },\n);\nDropdown.propTypes = {\n  autoClose: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n  ]),\n  className: PropTypes.string,\n  onToggle: PropTypes.func,\n  show: PropTypes.bool,\n  variant: PropTypes.oneOf(['light', 'dark']),\n};\nDropdown.defaultProps = {\n  autoClose: true,\n  className: '',\n  onToggle: undefined,\n  show: false,\n  variant: 'light',\n};\n\nconst DropdownToggle = React.forwardRef(\n  // eslint-disable-next-line prefer-arrow-callback\n  function DropdownToggle({\n    as,\n    bsPrefix,\n    ...otherProps\n  }, ref) {\n    // hide arrow from the toggle if it is rendered as IconButton\n    // because it hinders the positioning of IconButton\n    const prefix = as === IconButton ? 'pgn__dropdown-toggle-iconbutton' : bsPrefix;\n    return <BaseDropdownToggle {...otherProps} as={as} bsPrefix={prefix} ref={ref} />;\n  },\n);\n\nDropdownToggle.propTypes = {\n  /** Specifies the base element. */\n  as: PropTypes.elementType,\n  /** Overrides underlying component base CSS class name. */\n  bsPrefix: PropTypes.string,\n  /** An html id attribute, necessary for assistive technologies, such as screen readers. */\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n};\n\nDropdownToggle.defaultProps = {\n  as: Button,\n  bsPrefix: 'dropdown-toggle',\n};\n\nDropdown.Item = React.forwardRef(\n  // eslint-disable-next-line prefer-arrow-callback\n  function DropdownItem({ className, ...otherProps }, ref) {\n    return (\n      <BaseDropdownItem\n        className={classNames(className, 'pgn__dropdown-item')}\n        ref={ref}\n        {...otherProps}\n      />\n    );\n  },\n);\nDropdown.Item.propTypes = {\n  className: PropTypes.string,\n};\nDropdown.Item.defaultProps = {\n  className: undefined,\n};\n\nDropdown.Deprecated = DropdownDeprecated;\nDropdown.Toggle = DropdownToggle;\nDropdown.Menu = DropdownMenu;\nDropdown.Header = BaseDropdown.Header;\nDropdown.Divider = BaseDropdown.Divider;\n\nexport default Dropdown;\nexport { DropdownToggle };\nexport { default as DropdownButton } from 'react-bootstrap/DropdownButton';\nexport { default as SplitButton } from 'react-bootstrap/SplitButton';\n"],"mappings":"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"}