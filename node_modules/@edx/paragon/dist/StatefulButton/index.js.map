{"version":3,"file":"index.js","names":["React","PropTypes","classNames","Cancel","CheckCircleOutline","SpinnerSimple","Button","Icon","StatefulButton","_ref","className","state","labels","icons","disabledStates","onClick","attributes","_objectWithoutProperties","_excluded","isDisabled","indexOf","icon","undefined","default","label","createElement","_extends","disabled","e","preventDefault","propTypes","string","objectOf","node","isRequired","arrayOf","func","defaultProps","pending","src","complete","error"],"sources":["../../src/StatefulButton/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Cancel, CheckCircleOutline, SpinnerSimple } from '../../icons';\nimport Button from '../Button';\nimport Icon from '../Icon';\n\nfunction StatefulButton({\n  className,\n  state,\n  labels,\n  icons,\n  disabledStates,\n  onClick,\n  ...attributes\n}) {\n  const isDisabled = disabledStates.indexOf(state) !== -1;\n  const icon = icons[state] !== undefined ? icons[state] : icons.default;\n  const label = labels[state] !== undefined ? labels[state] : labels.default;\n\n  return (\n    <Button\n      aria-live=\"assertive\"\n      aria-disabled={isDisabled}\n      className={classNames(\n        'pgn__stateful-btn',\n        `pgn__stateful-btn-state-${state}`,\n        className,\n        { disabled: isDisabled },\n      )}\n      onClick={(e) => {\n        // Swallow clicks if the button is disabled.\n        // We do this instead of disabling the button to prevent\n        // it from losing focus (disabled elements cannot have focus).\n        if (isDisabled) {\n          e.preventDefault();\n          return;\n        }\n\n        if (onClick) {\n          onClick(e);\n        }\n      }}\n      {...attributes}\n    >\n      <span className=\"d-flex align-items-center justify-content-center\">\n        {icon && <span className={classNames({ 'pgn__stateful-btn-icon': !!label })}>{icon}</span>}\n        {label ? <span>{label}</span> : <span className=\"sr-only\">{state}</span>}\n      </span>\n    </Button>\n  );\n}\n\nStatefulButton.propTypes = {\n  className: PropTypes.string,\n  /**\n   * Each state has:\n   * - A label (required)\n   * - An icon\n   * - an option to be disabled\n   *\n   * Control the state with the `state` prop. Example usage:\n   *\n   * ```jsx\n   * <StatefulButton\n   *   state=\"pending\"\n   *   labels={{\n   *     default: 'Download',\n   *     pending: 'Downloading',\n   *     complete: 'Downloaded',\n   *   }}\n   *   icons={{\n   *     default: <Icon className=\"fa fa-download\" />,\n   *     pending: <Icon className=\"fa fa-spinner fa-spin\" />,\n   *     complete: <Icon className=\"fa fa-check\" />,\n   *   }}\n   *   disabledStates=['pending']\n   *   className='btn-primary mr-2'\n   * />\n   * ```\n   */\n  state: PropTypes.string,\n  /** Required. Each state has a `label`. */\n  labels: PropTypes.objectOf(PropTypes.node).isRequired,\n  /** Required. Each state has an `icon`. */\n  icons: PropTypes.objectOf(PropTypes.node),\n  /** Required. Each state has a `disabledState` */\n  disabledStates: PropTypes.arrayOf(PropTypes.string),\n  /** Specifies the callback function when the button is clicked */\n  onClick: PropTypes.func,\n};\n\nStatefulButton.defaultProps = {\n  className: undefined,\n  state: 'default',\n  icons: {\n    default: undefined,\n    pending: <Icon src={SpinnerSimple} className={classNames('icon-spin')} />,\n    complete: <Icon src={CheckCircleOutline} />,\n    error: <Icon src={Cancel} />,\n  },\n  disabledStates: ['pending', 'complete'],\n  onClick: undefined,\n};\n\nexport default StatefulButton;\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,UAAU,MAAM,YAAY;AACnC,SAASC,MAAM,EAAEC,kBAAkB,EAAEC,aAAa,QAAQ,aAAa;AACvE,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAOC,IAAI,MAAM,SAAS;AAE1B,SAASC,cAAcA,CAAAC,IAAA,EAQpB;EAAA,IARqB;MACtBC,SAAS;MACTC,KAAK;MACLC,MAAM;MACNC,KAAK;MACLC,cAAc;MACdC;IAEF,CAAC,GAAAN,IAAA;IADIO,UAAU,GAAAC,wBAAA,CAAAR,IAAA,EAAAS,SAAA;EAEb,MAAMC,UAAU,GAAGL,cAAc,CAACM,OAAO,CAACT,KAAK,CAAC,KAAK,CAAC,CAAC;EACvD,MAAMU,IAAI,GAAGR,KAAK,CAACF,KAAK,CAAC,KAAKW,SAAS,GAAGT,KAAK,CAACF,KAAK,CAAC,GAAGE,KAAK,CAACU,OAAO;EACtE,MAAMC,KAAK,GAAGZ,MAAM,CAACD,KAAK,CAAC,KAAKW,SAAS,GAAGV,MAAM,CAACD,KAAK,CAAC,GAAGC,MAAM,CAACW,OAAO;EAE1E,oBACEvB,KAAA,CAAAyB,aAAA,CAACnB,MAAM,EAAAoB,QAAA;IACL,aAAU,WAAW;IACrB,iBAAeP,UAAW;IAC1BT,SAAS,EAAER,UAAU,CACnB,mBAAmB,EAClB,2BAA0BS,KAAM,EAAC,EAClCD,SAAS,EACT;MAAEiB,QAAQ,EAAER;IAAW,CAAC,CACxB;IACFJ,OAAO,EAAGa,CAAC,IAAK;MACd;MACA;MACA;MACA,IAAIT,UAAU,EAAE;QACdS,CAAC,CAACC,cAAc,EAAE;QAClB;MACF;MAEA,IAAId,OAAO,EAAE;QACXA,OAAO,CAACa,CAAC,CAAC;MACZ;IACF;EAAE,GACEZ,UAAU,gBAEdhB,KAAA,CAAAyB,aAAA;IAAMf,SAAS,EAAC;EAAkD,GAC/DW,IAAI,iBAAIrB,KAAA,CAAAyB,aAAA;IAAMf,SAAS,EAAER,UAAU,CAAC;MAAE,wBAAwB,EAAE,CAAC,CAACsB;IAAM,CAAC;EAAE,GAAEH,IAAI,CAAQ,EACzFG,KAAK,gBAAGxB,KAAA,CAAAyB,aAAA,eAAOD,KAAK,CAAQ,gBAAGxB,KAAA,CAAAyB,aAAA;IAAMf,SAAS,EAAC;EAAS,GAAEC,KAAK,CAAQ,CACnE,CACA;AAEb;AAEAH,cAAc,CAACsB,SAAS,GAAG;EACzBpB,SAAS,EAAET,SAAS,CAAC8B,MAAM;EAC3B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEpB,KAAK,EAAEV,SAAS,CAAC8B,MAAM;EACvB;EACAnB,MAAM,EAAEX,SAAS,CAAC+B,QAAQ,CAAC/B,SAAS,CAACgC,IAAI,CAAC,CAACC,UAAU;EACrD;EACArB,KAAK,EAAEZ,SAAS,CAAC+B,QAAQ,CAAC/B,SAAS,CAACgC,IAAI,CAAC;EACzC;EACAnB,cAAc,EAAEb,SAAS,CAACkC,OAAO,CAAClC,SAAS,CAAC8B,MAAM,CAAC;EACnD;EACAhB,OAAO,EAAEd,SAAS,CAACmC;AACrB,CAAC;AAED5B,cAAc,CAAC6B,YAAY,GAAG;EAC5B3B,SAAS,EAAEY,SAAS;EACpBX,KAAK,EAAE,SAAS;EAChBE,KAAK,EAAE;IACLU,OAAO,EAAED,SAAS;IAClBgB,OAAO,eAAEtC,KAAA,CAAAyB,aAAA,CAAClB,IAAI;MAACgC,GAAG,EAAElC,aAAc;MAACK,SAAS,EAAER,UAAU,CAAC,WAAW;IAAE,EAAG;IACzEsC,QAAQ,eAAExC,KAAA,CAAAyB,aAAA,CAAClB,IAAI;MAACgC,GAAG,EAAEnC;IAAmB,EAAG;IAC3CqC,KAAK,eAAEzC,KAAA,CAAAyB,aAAA,CAAClB,IAAI;MAACgC,GAAG,EAAEpC;IAAO;EAC3B,CAAC;EACDW,cAAc,EAAE,CAAC,SAAS,EAAE,UAAU,CAAC;EACvCC,OAAO,EAAEO;AACX,CAAC;AAED,eAAed,cAAc"}